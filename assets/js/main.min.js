function stripTags(n){return n=n.replace(/</gi,"&lt"),n=n.replace(/>/gi,"&gt")}function validateContactForm(n){for(var e=$("#"+n).serializeArray(),a=0;a<e.length;a++)e[a].value=stripTags(e[a].value);return e}function createContactEmail(n){for(var e="",a=0;a<n.length;a++)e+="<strong>"+n[a].name+": </strong>"+n[a].value+"<br>";return e}function sendToMandrill(n,e){$.ajax({type:"POST",url:"https://mandrillapp.com/api/1.0/messages/send.json",data:{key:"Akj5sUZpdPZ7O3LbpPpSiw",message:{from_email:"albernazassis@gmail.com",to:[{email:"albernazassis@gmail.com",name:"Ricardo Henrique",type:"to"}],subject:e,html:n}}})}function sendMail(n,e){var a=validateContactForm(n),t=createContactEmail(a);sendToMandrill(t,e),alert("Email Enviado!")}function readTextFile(n){var e=new XMLHttpRequest;e.open("GET",n,!1),e.onreadystatechange=function(){allText=4===e.readyState&&(200===e.status||0==e.status)?e.responseText:""},e.send(null)}function populateWithBanners(n,e){var a=[];a.banners120x600="temp/banners/banners120x600/",a.banners300x250="temp/banners/banners300x250/",a.banners125x125="temp/banners/banners125x125/",a.banners468x60="temp/banners/banners468x60/",a.banners728x90="temp/banners/banners728x90/",readTextFile(a[n]+"banners-quantity.txt");var t=parseInt(allText),r=getBannersSource(a[n],e,t);emptyTag(n),appendHTML(n,r)}function randomIntFromInterval(n,e){return Math.floor(Math.random()*(e-n+1)+n)}function getBannersSource(n,e,a){for(var t=[],r=[];r.length<e;){var s=randomIntFromInterval(1,a);-1===r.indexOf(s)&&(readTextFile(n+s+".txt"),""!==allText&&(t.push(allText),r.push(s)))}return t}function appendHTML(n,e){for(var a=document.getElementById(n),t=0;t<e.length;t++){var r=document.createElement("div");$(r).addClass("banner"),$(r).append(e[t]),$(a).append(r)}}function emptyTag(n){$("#"+n).empty()}$(document).ready(function(){populateWithBanners("banners300x250",5),populateWithBanners("banners125x125",5),populateWithBanners("banners468x60",5)}),$("#banner125x125").click(function(){return populateWithBanners("banners125x125",5),!1}),$("#banners300x250").click(function(){return populateWithBanners("banners300x250",5),!1}),$("#banners468x60").click(function(){return populateWithBanners("banners468x60",5),!1}),$("#contact-mail").click(function(){return sendMail("contact-form","[Contato] |MyBanners Site|"),!1}),$("#separate-banner-email").click(function(){return sendMail("separate-banner-form","[Send Banner Separate] |MyBanners Site|"),!1}),$("#block-banner-email").click(function(){return sendMail("block-banner-form","[Send Banner Block] |MyBanners Site|"),!1});var allText="";